-- cartridges/pacmaze/content.lua
-- Sprites, tiles, and music for PacMaze cartridge
-- All art uses palette indices (0=transparent, 1-32=palette colors)
-- Max 4 distinct non-zero colors per sprite/tile

local Content = {}

-- ============================================================
-- PALETTE REFERENCE (used colors)
-- 1=black, 4=white, 6=red, 11=orange, 15=yellow,
-- 23=cyan, 25=dark blue, 26=blue, 32=pink
-- ============================================================

-- ============================================================
-- SPRITES
-- ============================================================
Content.sprites = {
    -- 1: Pac-Man closed mouth (yellow circle)
    [1] = { w = 8, h = 8, grid = {
        {  0,  0, 15, 15, 15, 15,  0,  0 },
        {  0, 15, 15, 15, 15, 15, 15,  0 },
        { 15, 15, 15, 15, 15, 15, 15, 15 },
        { 15, 15, 15, 15, 15, 15, 15, 15 },
        { 15, 15, 15, 15, 15, 15, 15, 15 },
        { 15, 15, 15, 15, 15, 15, 15, 15 },
        {  0, 15, 15, 15, 15, 15, 15,  0 },
        {  0,  0, 15, 15, 15, 15,  0,  0 },
    }},

    -- 2: Pac-Man open mouth (facing right)
    [2] = { w = 8, h = 8, grid = {
        {  0,  0, 15, 15, 15, 15,  0,  0 },
        {  0, 15, 15, 15, 15,  0,  0,  0 },
        { 15, 15, 15, 15,  0,  0,  0,  0 },
        { 15, 15, 15,  0,  0,  0,  0,  0 },
        { 15, 15, 15,  0,  0,  0,  0,  0 },
        { 15, 15, 15, 15,  0,  0,  0,  0 },
        {  0, 15, 15, 15, 15,  0,  0,  0 },
        {  0,  0, 15, 15, 15, 15,  0,  0 },
    }},

    -- 3: Ghost - Red (chaser)
    -- Colors: 6=red body, 4=white eyes, 26=blue pupils
    [3] = { w = 8, h = 8, grid = {
        {  0,  0,  6,  6,  6,  6,  0,  0 },
        {  0,  6,  6,  6,  6,  6,  6,  0 },
        {  6,  4,  4,  6,  6,  4,  4,  6 },
        {  6, 26, 26,  6,  6, 26, 26,  6 },
        {  6,  6,  6,  6,  6,  6,  6,  6 },
        {  6,  6,  6,  6,  6,  6,  6,  6 },
        {  6,  6,  6,  6,  6,  6,  6,  6 },
        {  6,  0,  6,  0,  0,  6,  0,  6 },
    }},

    -- 4: Ghost - Pink
    -- Colors: 32=pink body, 4=white eyes, 26=blue pupils
    [4] = { w = 8, h = 8, grid = {
        {  0,  0, 32, 32, 32, 32,  0,  0 },
        {  0, 32, 32, 32, 32, 32, 32,  0 },
        { 32,  4,  4, 32, 32,  4,  4, 32 },
        { 32, 26, 26, 32, 32, 26, 26, 32 },
        { 32, 32, 32, 32, 32, 32, 32, 32 },
        { 32, 32, 32, 32, 32, 32, 32, 32 },
        { 32, 32, 32, 32, 32, 32, 32, 32 },
        { 32,  0, 32,  0,  0, 32,  0, 32 },
    }},

    -- 5: Ghost - Cyan (ambusher)
    -- Colors: 23=cyan body, 4=white eyes, 26=blue pupils
    [5] = { w = 8, h = 8, grid = {
        {  0,  0, 23, 23, 23, 23,  0,  0 },
        {  0, 23, 23, 23, 23, 23, 23,  0 },
        { 23,  4,  4, 23, 23,  4,  4, 23 },
        { 23, 26, 26, 23, 23, 26, 26, 23 },
        { 23, 23, 23, 23, 23, 23, 23, 23 },
        { 23, 23, 23, 23, 23, 23, 23, 23 },
        { 23, 23, 23, 23, 23, 23, 23, 23 },
        { 23,  0, 23,  0,  0, 23,  0, 23 },
    }},

    -- 6: Ghost - Orange (random)
    -- Colors: 11=orange body, 4=white eyes, 26=blue pupils
    [6] = { w = 8, h = 8, grid = {
        {  0,  0, 11, 11, 11, 11,  0,  0 },
        {  0, 11, 11, 11, 11, 11, 11,  0 },
        { 11,  4,  4, 11, 11,  4,  4, 11 },
        { 11, 26, 26, 11, 11, 26, 26, 11 },
        { 11, 11, 11, 11, 11, 11, 11, 11 },
        { 11, 11, 11, 11, 11, 11, 11, 11 },
        { 11, 11, 11, 11, 11, 11, 11, 11 },
        { 11,  0, 11,  0,  0, 11,  0, 11 },
    }},

    -- 7: Frightened ghost (blue)
    -- Colors: 26=blue body, 4=white features
    [7] = { w = 8, h = 8, grid = {
        {  0,  0, 26, 26, 26, 26,  0,  0 },
        {  0, 26, 26, 26, 26, 26, 26,  0 },
        { 26,  4,  4, 26, 26,  4,  4, 26 },
        { 26, 26, 26, 26, 26, 26, 26, 26 },
        { 26, 26, 26, 26, 26, 26, 26, 26 },
        { 26,  4, 26,  4,  4, 26,  4, 26 },
        { 26, 26, 26, 26, 26, 26, 26, 26 },
        { 26,  0, 26,  0,  0, 26,  0, 26 },
    }},
}

-- ============================================================
-- TILES
-- ============================================================
Content.tiles = {
    -- 1: Wall tile (solid blue block with border)
    [1] = { w = 8, h = 8, flags = { solid = true }, grid = {
        { 26, 26, 26, 26, 26, 26, 26, 26 },
        { 26, 25, 25, 25, 25, 25, 25, 26 },
        { 26, 25, 25, 25, 25, 25, 25, 26 },
        { 26, 25, 25, 25, 25, 25, 25, 26 },
        { 26, 25, 25, 25, 25, 25, 25, 26 },
        { 26, 25, 25, 25, 25, 25, 25, 26 },
        { 26, 25, 25, 25, 25, 25, 25, 26 },
        { 26, 26, 26, 26, 26, 26, 26, 26 },
    }},
}

-- ============================================================
-- MUSIC (simple looping chiptune)
-- ============================================================
Content.music = {
    patterns = {
        [1] = {
            bpm = 160,
            stepsPerBeat = 4,
            steps = {
                { note = "C4",  wave = "square", duration = 0.08, volume = 0.2 },
                false,
                { note = "C4",  wave = "square", duration = 0.06, volume = 0.15 },
                false,
                { note = "C5",  wave = "square", duration = 0.08, volume = 0.2 },
                false,
                { note = "G4",  wave = "square", duration = 0.08, volume = 0.2 },
                false,
                { note = "E4",  wave = "square", duration = 0.10, volume = 0.2 },
                false,
                false,
                false,
                { note = "C5",  wave = "square", duration = 0.10, volume = 0.2 },
                false,
                { note = "G4",  wave = "triangle", duration = 0.15, volume = 0.2 },
                false,
            },
        },
    },
    song = { 1 },
}

return Content
